!function(n){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(n,t){!function(n,e){if(!g[n]||!M[n])return;for(var t in M[n]=!1,e)Object.prototype.hasOwnProperty.call(e,t)&&(p[t]=e[t]);0==--A&&0===v&&x()}(n,t),e&&e(n,t)};var t,r=!0,a="86139354b0a55fb21d6c",o=1e4,i={},s=[],c=[];function u(n){var e=C[n];if(!e)return $;var r=function(r){return e.hot.active?(C[r]?-1===C[r].parents.indexOf(n)&&C[r].parents.push(n):(s=[n],t=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+n),s=[]),$(r)},a=function(n){return{configurable:!0,enumerable:!0,get:function(){return $[n]},set:function(e){$[n]=e}}};for(var o in $)Object.prototype.hasOwnProperty.call($,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,a(o));return r.e=function(n){return"ready"===l&&f("prepare"),v++,$.e(n).then(e,function(n){throw e(),n});function e(){v--,"prepare"===l&&(b[n]||E(n),0===v&&0===A&&x())}},r.t=function(n,e){return 1&e&&(n=r(n)),$.t(n,-2&e)},r}var d=[],l="idle";function f(n){l=n;for(var e=0;e<d.length;e++)d[e].call(null,n)}var h,p,m,A=0,v=0,b={},M={},g={};function y(n){return+n+""===n?+n:n}function w(n){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=n,f("check"),(e=o,e=e||1e4,new Promise(function(n,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,a=$.p+"wps-hmr.json";r.open("GET",a,!0),r.timeout=e,r.send(null)}catch(n){return t(n)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)n();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+a+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(n){return void t(n)}n(e)}}})).then(function(n){if(!n)return f("idle"),null;M={},b={},g=n.c,m=n.h,f("prepare");var e=new Promise(function(n,e){h={resolve:n,reject:e}});p={};return E(0),"prepare"===l&&0===v&&0===A&&x(),e});var e}function E(n){var e,t;g[n]?(M[n]=!0,A++,e=document.getElementsByTagName("head")[0],(t=document.createElement("script")).charset="utf-8",t.src=$.p+"wps-hmr.js",e.appendChild(t)):b[n]=!0}function x(){f("ready");var n=h;if(h=null,n)if(r)Promise.resolve().then(function(){return T(r)}).then(function(e){n.resolve(e)},function(e){n.reject(e)});else{var e=[];for(var t in p)Object.prototype.hasOwnProperty.call(p,t)&&e.push(y(t));n.resolve(e)}}function T(e){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var t,r,o,c,u;function d(n){for(var e=[n],t={},r=e.slice().map(function(n){return{chain:[n],id:n}});r.length>0;){var a=r.pop(),o=a.id,i=a.chain;if((c=C[o])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:o};for(var s=0;s<c.parents.length;s++){var u=c.parents[s],d=C[u];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:i.concat([u]),moduleId:o,parentId:u};-1===e.indexOf(u)&&(d.hot._acceptedDependencies[o]?(t[u]||(t[u]=[]),h(t[u],[o])):(delete t[u],e.push(u),r.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:n,outdatedModules:e,outdatedDependencies:t}}function h(n,e){for(var t=0;t<e.length;t++){var r=e[t];-1===n.indexOf(r)&&n.push(r)}}e=e||{};var A={},v=[],b={},M=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)){var E;u=y(w);var x=!1,T=!1,D=!1,S="";switch((E=p[w]?d(u):{type:"disposed",moduleId:w}).chain&&(S="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(x=new Error("Aborted because of self decline: "+E.moduleId+S));break;case"declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(x=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+S));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(E),e.ignoreUnaccepted||(x=new Error("Aborted because "+u+" is not accepted"+S));break;case"accepted":e.onAccepted&&e.onAccepted(E),T=!0;break;case"disposed":e.onDisposed&&e.onDisposed(E),D=!0;break;default:throw new Error("Unexception type "+E.type)}if(x)return f("abort"),Promise.reject(x);if(T)for(u in b[u]=p[u],h(v,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,u)&&(A[u]||(A[u]=[]),h(A[u],E.outdatedDependencies[u]));D&&(h(v,[E.moduleId]),b[u]=M)}var O,L=[];for(r=0;r<v.length;r++)u=v[r],C[u]&&C[u].hot._selfAccepted&&L.push({module:u,errorHandler:C[u].hot._selfAccepted});f("dispose"),Object.keys(g).forEach(function(n){!1===g[n]&&function(n){delete installedChunks[n]}(n)});for(var _,I,P=v.slice();P.length>0;)if(u=P.pop(),c=C[u]){var R={},k=c.hot._disposeHandlers;for(o=0;o<k.length;o++)(t=k[o])(R);for(i[u]=R,c.hot.active=!1,delete C[u],delete A[u],o=0;o<c.children.length;o++){var N=C[c.children[o]];N&&((O=N.parents.indexOf(u))>=0&&N.parents.splice(O,1))}}for(u in A)if(Object.prototype.hasOwnProperty.call(A,u)&&(c=C[u]))for(I=A[u],o=0;o<I.length;o++)_=I[o],(O=c.children.indexOf(_))>=0&&c.children.splice(O,1);for(u in f("apply"),a=m,b)Object.prototype.hasOwnProperty.call(b,u)&&(n[u]=b[u]);var F=null;for(u in A)if(Object.prototype.hasOwnProperty.call(A,u)&&(c=C[u])){I=A[u];var q=[];for(r=0;r<I.length;r++)if(_=I[r],t=c.hot._acceptedDependencies[_]){if(-1!==q.indexOf(t))continue;q.push(t)}for(r=0;r<q.length;r++){t=q[r];try{t(I)}catch(n){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:u,dependencyId:I[r],error:n}),e.ignoreErrored||F||(F=n)}}}for(r=0;r<L.length;r++){var H=L[r];u=H.module,s=[u];try{$(u)}catch(n){if("function"==typeof H.errorHandler)try{H.errorHandler(n)}catch(t){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:t,originalError:n}),e.ignoreErrored||F||(F=t),F||(F=n)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:u,error:n}),e.ignoreErrored||F||(F=n)}}return F?(f("fail"),Promise.reject(F)):(f("idle"),new Promise(function(n){n(v)}))}var C={};function $(e){if(C[e])return C[e].exports;var r=C[e]={i:e,l:!1,exports:{},hot:function(n){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==n,active:!0,accept:function(n,t){if(void 0===n)e._selfAccepted=!0;else if("function"==typeof n)e._selfAccepted=n;else if("object"==typeof n)for(var r=0;r<n.length;r++)e._acceptedDependencies[n[r]]=t||function(){};else e._acceptedDependencies[n]=t||function(){}},decline:function(n){if(void 0===n)e._selfDeclined=!0;else if("object"==typeof n)for(var t=0;t<n.length;t++)e._declinedDependencies[n[t]]=!0;else e._declinedDependencies[n]=!0},dispose:function(n){e._disposeHandlers.push(n)},addDisposeHandler:function(n){e._disposeHandlers.push(n)},removeDisposeHandler:function(n){var t=e._disposeHandlers.indexOf(n);t>=0&&e._disposeHandlers.splice(t,1)},check:w,apply:T,status:function(n){if(!n)return l;d.push(n)},addStatusHandler:function(n){d.push(n)},removeStatusHandler:function(n){var e=d.indexOf(n);e>=0&&d.splice(e,1)},data:i[n]};return t=void 0,e}(e),parents:(c=s,s=[],c),children:[]};return n[e].call(r.exports,r,r.exports,u(e)),r.l=!0,r.exports}$.m=n,$.c=C,$.d=function(n,e,t){$.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},$.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},$.t=function(n,e){if(1&e&&(n=$(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if($.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)$.d(t,r,function(e){return n[e]}.bind(null,r));return t},$.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return $.d(e,"a",e),e},$.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},$.p="",$.h=function(){return a},u(9)($.s=9)}([function(n,e){n.exports={addCss:n=>{const e=document.createElement("style");e.type="text/css",n.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},addHtml:(n,e)=>{const t=document.createElement("div"),r=[];for(t.innerHTML=n.trim();t.firstChild;)r.push((e||document.body).appendChild(t.firstChild));return r},socketMessage:(n,e)=>{n.addEventListener("message",n=>{const{action:t,data:r}=JSON.parse(n.data);e(t,r)})}}},function(n,e){const{error:t,info:r,warn:a}=console,o={error:t.bind(console,"⬡ wps:"),info:r.bind(console,"⬡ wps:"),refresh:"Please refresh the page",warn:a.bind(console,"⬡ wps:")};n.exports=o},function(n,e){n.exports="#version 300 es\r\n\r\nprecision highp float;\r\n\r\nlayout(location = 0) in vec4 vPosition;\r\n\r\nuniform mat4 projectionMatrix;\r\nuniform mat4 modelViewMatrix;\r\n\r\nvoid main() {\r\n    gl_Position = projectionMatrix * modelViewMatrix * vPosition;\r\n}"},function(n,e){n.exports="#version 300 es\r\n\r\nprecision highp float;\r\n\r\nuniform vec4 color;\r\n\r\nout vec4 fColor;\r\n\r\nvoid main() {\r\n    fColor = vec4(1.0, 0.0, 0.0, 1.0);\r\n}"},function(n,e){n.exports='{\n    "accessors" : [\n        {\n            "bufferView" : 0,\n            "componentType" : 5121,\n            "count" : 36,\n            "max" : [\n                23\n            ],\n            "min" : [\n                0\n            ],\n            "type" : "SCALAR"\n        },\n        {\n            "bufferView" : 1,\n            "componentType" : 5126,\n            "count" : 24,\n            "max" : [\n                1.0000004768371582,\n                1.0,\n                1.0000005960464478\n            ],\n            "min" : [\n                -1.0000003576278687,\n                -1.0,\n                -1.0000003576278687\n            ],\n            "type" : "VEC3"\n        },\n        {\n            "bufferView" : 2,\n            "componentType" : 5126,\n            "count" : 24,\n            "max" : [\n                1.0,\n                1.0,\n                1.0\n            ],\n            "min" : [\n                -1.0,\n                -1.0,\n                -1.0\n            ],\n            "type" : "VEC3"\n        }\n    ],\n    "asset" : {\n        "generator" : "Khronos Blender glTF 2.0 exporter",\n        "version" : "2.0"\n    },\n    "bufferViews" : [\n        {\n            "buffer" : 0,\n            "byteLength" : 36,\n            "byteOffset" : 0,\n            "target" : 34963\n        },\n        {\n            "buffer" : 0,\n            "byteLength" : 288,\n            "byteOffset" : 36,\n            "target" : 34962\n        },\n        {\n            "buffer" : 0,\n            "byteLength" : 288,\n            "byteOffset" : 324,\n            "target" : 34962\n        }\n    ],\n    "buffers" : [\n        {\n            "byteLength" : 612,\n            "uri" : "data:application/octet-stream;base64,AAECAwEABAUGBAcFCAkKCAsJDA0ODA8NEBESEBMRFBUWFBcVAACAPwAAgL///3+/AQCAvwAAgL/9/38/+v9/vwAAgL8DAIC/AACAPwAAgL8AAIA/AwCAvwAAgD/6/38/BACAPwAAgD/3/3+///9/vwAAgD8AAIC/9f9/PwAAgD8FAIA/BACAPwAAgD/3/3+/AACAPwAAgL8AAIA/AACAPwAAgL///3+/9f9/PwAAgD8FAIA/9f9/PwAAgD8FAIA/AQCAvwAAgL/9/38/AACAPwAAgL8AAIA/AwCAvwAAgD/6/38/AwCAvwAAgD/6/38/+v9/vwAAgL8DAIC/AQCAvwAAgL/9/38///9/vwAAgD8AAIC///9/vwAAgD8AAIC/AACAPwAAgL///3+/+v9/vwAAgL8DAIC/BACAPwAAgD/3/3+/AAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAACAP+z/PzMAAJg0AACAP+z/PzMAAJg0AACAP+z/PzMAAJg0AACAP+z/PzMAAJg0AACYtAkA4LMAAIA/AACYtAkA4LMAAIA/AACYtAkA4LMAAIA/AACYtAkA4LMAAIA/AACAv///D7QCAHC0AACAv///D7QCAHC0AACAv///D7QCAHC0AACAv///D7QCAHC0AACANAAAYDQAAIC/AACANAAAYDQAAIC/AACANAAAYDQAAIC/AACANAAAYDQAAIC/"\n        }\n    ],\n    "cameras" : [\n        {\n            "name" : "Camera",\n            "perspective" : {\n                "aspectRatio" : 1.7777777777777777,\n                "yfov" : 0.5033799372418416,\n                "zfar" : 100.0,\n                "znear" : 0.10000000149011612\n            },\n            "type" : "perspective"\n        }\n    ],\n    "materials" : [\n        {\n            "name" : "Material",\n            "pbrMetallicRoughness" : {\n                "baseColorFactor" : [\n                    0.6400000190734865,\n                    0.6400000190734865,\n                    0.6400000190734865,\n                    1.0\n                ],\n                "metallicFactor" : 0.0\n            }\n        }\n    ],\n    "meshes" : [\n        {\n            "name" : "Cube",\n            "primitives" : [\n                {\n                    "attributes" : {\n                        "NORMAL" : 2,\n                        "POSITION" : 1\n                    },\n                    "indices" : 0,\n                    "material" : 0\n                }\n            ]\n        }\n    ],\n    "nodes" : [\n        {\n            "camera" : 0,\n            "name" : "Correction_Camera",\n            "rotation" : [\n                -0.7071067690849304,\n                -0.0,\n                0.0,\n                0.7071067690849304\n            ]\n        },\n        {\n            "children" : [\n                0\n            ],\n            "name" : "Camera",\n            "rotation" : [\n                0.4617486894130707,\n                0.0,\n                -0.0,\n                0.887010931968689\n            ],\n            "translation" : [\n                0.0,\n                7.0,\n                8.0\n            ]\n        },\n        {\n            "mesh" : 0,\n            "name" : "Cube",\n            "translation" : [\n                0.0,\n                1.0,\n                -0.0\n            ]\n        },\n        {\n            "mesh" : 0,\n            "name" : "Cube.001",\n            "translation" : [\n                0.0,\n                0.0,\n                -3.0\n            ]\n        }\n    ],\n    "scene" : 0,\n    "scenes" : [\n        {\n            "name" : "Scene",\n            "nodes" : [\n                3,\n                2,\n                1\n            ]\n        }\n    ]\n}\n'},,,,,function(n,e,t){t(16),n.exports=t(10)},function(n,e,t){window.webpackPluginServe||(window.webpackPluginServe=!0,t(11))},function(n,e,t){const{replace:r}=t(12),{error:a,info:o,refresh:i,warn:s}=t(1),{init:c}=t(13),{init:u}=t(14),{init:d}=t(15),l={client:null,compress:null,historyFallback:!1,hmr:!0,host:null,liveReload:!1,log:{level:"info",prefix:{template:"{{level}}"},name:"webpack-plugin-serve"},open:!1,port:55555,progress:!0,secure:!1,static:"/home/oskarbraten/Documents/warp-engine/example/build",status:!0,address:"[::]:55555"},{address:f,client:h,progress:p,secure:m,status:A}=l,v=new WebSocket(`${m?"wss":"ws"}://${(h||{}).address||f}/wps`);window.addEventListener("beforeunload",()=>v.close()),v.addEventListener("message",n=>{const{action:e,data:t}=JSON.parse(n.data),{errors:i,hash:c="<?>",warnings:u}=t||{},d=c.slice(0,7);switch(e){case"connected":o("WebSocket connected");break;case"errors":a(`Build ${d} produced errors:\n`,i);break;case"reload":window.location.reload();break;case"replace":r(c);break;case"warnings":s(`Build ${d} produced warnings:\n`,u)}}),v.onclose=(()=>s(`The client WebSocket was closed. ${i}`)),"minimal"===p?u(l,v):p&&c(l,v),A&&d(l,v),o("Hot Module Replacement is active"),l.liveReload&&o("Live Reload taking precedence over Hot Module Replacement")},function(n,e,t){const{error:r,info:a,refresh:o,warn:i}=t(1),{apply:s,check:c,status:u}=n.hot;let d=!0;const l={onUnaccepted(n){i("Change in unaccepted module(s):\n",n),i(n)},onDeclined(n){i("Change in declined module(s):\n",n)},onErrored(n){r("Error in module(s):\n",n)}};n.exports={replace:async n=>{if(n&&(d=n.includes(t.h())),!d){const e=u();if("abort"===e||"fail"===e)return void i(`An HMR update was triggered, but ${e}ed. ${o}`);let t=await c(!1);if(!t)return void i(`No modules found for replacement. ${o}`);(t=await s(l))&&(d=!0,a(`Build ${n.slice(0,7)} replaced:\n`,t))}}}},function(n,e,t){const{addCss:r,addHtml:a}=t(0),o="wps-progress",i=`\n@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700');\n\n#${o}{\n  width: 200px;\n  height: 200px;\n  position: absolute;\n  right: 5%;\n  top: 5%;\n  transition: opacity .25s ease-in-out;\n  z-index: 1000;\n}\n\n#${o}-bg {\n  fill: #282d35;\n}\n\n#${o}-fill {\n  fill: rgba(0, 0, 0, 0);\n  stroke: rgb(186, 223, 172);\n  stroke-dasharray: 219.99078369140625;\n  stroke-dashoffset: -219.99078369140625;\n  stroke-width: 10;\n  transform: rotate(90deg)translate(0px, -80px);\n  transition: stroke-dashoffset 1s;\n}\n\n#${o}-percent {\n  font-family: 'Open Sans';\n  font-size: 18px;\n  fill: #ffffff;\n}\n\n#${o}-percent-value {\n  alignment-baseline: middle;\n  text-anchor: middle;\n}\n\n#${o}-percent-super {\n  fill: #bdc3c7;\n  font-size: .45em;\n  baseline-shift: 10%;\n}\n\n.${o}-noselect {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n\n@keyframes ${o}-hidden-display {\n\t0% {\n\t\topacity: 1;\n\t\ttransform: scale(1);\n\t\t-webkit-transform: scale(1);\n\t}\n\t99% {\n\t\tdisplay: inline-flex;\n\t\topacity: 0;\n\t\ttransform: scale(0);\n\t\t-webkit-transform: scale(0);\n\t}\n\t100% {\n\t\tdisplay: none;\n\t\topacity: 0;\n\t\ttransform: scale(0);\n\t\t-webkit-transform: scale(0);\n\t}\n}\n\n.${o}-hidden{\n  animation: ${o}-hidden-display .3s;\n  animation-fill-mode:forwards;\n  display: inline-flex;\n}\n`,s=`\n<svg id="${o}" class="${o}-noselect ${o}-hidden" x="0px" y="0px" viewBox="0 0 80 80">\n  <circle id="${o}-bg" cx="50%" cy="50%" r="35"></circle>\n  <path id="${o}-fill" d="M5,40a35,35 0 1,0 70,0a35,35 0 1,0 -70,0" />\n  <text id="${o}-percent" x="50%" y="51%"><tspan id="${o}-percent-value">0</tspan><tspan id="${o}-percent-super">%</tspan></text>\n</svg>\n`,c=n=>{const e=document.querySelector(`#${o}-percent-value`),t=(100-n)/100*-219.99078369140625;document.querySelector(`#${o}-fill`).setAttribute("style",`stroke-dashoffset: ${t}`),e.innerHTML=n.toString()};n.exports={init:(n,e)=>{document.addEventListener("DOMContentLoaded",()=>{r(i),a(s)}),e.addEventListener("message",n=>{const{action:e,data:t}=JSON.parse(n.data);if("progress"!==e)return;const r=Math.floor(100*t.percent),a=document.querySelector(`#${o}`);a&&(a.classList.remove(`${o}-hidden`),1===t.percent&&setTimeout(()=>(n=>{n.classList.add(`${o}-hidden`),setTimeout(()=>c(0),1e3)})(a),5e3),c(r))})}}},function(n,e,t){const{addCss:r,addHtml:a}=t(0),o="wps-progress-minimal",i=`\n<div id="${o}" class="${o}-hidden">\n  <div id="${o}-bar"></div>\n</div>\n`,s=`\n#${o} {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 4px;\n  width: 100vw;\n}\n\n#${o}-bar {\n  width: 0%;\n  height: 4px;\n  background-color: rgb(186, 223, 172);\n  transition: width 1s ease-in-out;\n}\n\n.${o}-hidden{\n  display: none;\n}\n`,c=n=>{document.querySelector(`#${o}-bar`).style.width=`${n}%`};n.exports={init:(n,e)=>{document.addEventListener("DOMContentLoaded",()=>{a(i),r(s)}),e.addEventListener("message",n=>{const{action:e,data:t}=JSON.parse(n.data);if("progress"!==e)return;const r=Math.floor(100*t.percent),a=document.querySelector(`#${o}`);a.classList.remove(`${o}-hidden`),1===t.percent&&setTimeout(()=>(n=>{n.classList.add(`${o}-hidden`),setTimeout(()=>c(0),1e3)})(a),5e3),c(r)})}}},function(n,e,t){const{addCss:r,addHtml:a,socketMessage:o}=t(0),i="wps-status",s=`\n@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700');\n\n#${i} {\n  background: #282d35;\n  border-radius: 0.6em;\n  display: flex;\n  flex-direction: column;\n\tfont-family: 'Open Sans', Helvetica, Arial, sans-serif;\n\tfont-size: 10px;\n  height: 90%;\n  margin: 0 auto;\n  max-height: 20em;\n  min-height: 20em;\n  opacity: 1;\n  overflow: hidden;\n  padding-bottom: 3em;\n  position: relative;\n  transition: opacity .25s ease-in-out;\n  width: 95%;\n}\n\n@keyframes ${i}-hidden-display {\n\t0% {\n\t\topacity: 1;\n\t}\n\t99% {\n\t\tdisplay: inline-flex;\n\t\topacity: 0;\n\t}\n\t100% {\n\t\tdisplay: none;\n\t\topacity: 0;\n\t}\n}\n\n#${i}.${i}-hidden {\n  animation: ${i}-hidden-display .3s;\n  animation-fill-mode:forwards;\n  display: none;\n}\n\n#${i}.${i}-min {\n  animation: minimize 10s;\n  bottom: 2em;\n  cursor: pointer;\n  height: 6em;\n  min-height: 6em;\n  padding-bottom: 0;\n  position: absolute;\n  right: 2em;\n  width: 6em;\n}\n\n#${i}.${i}-min #${i}-beacon {\n  display: block;\n}\n\n#${i}-title {\n  color: #fff;\n  font-size: 1.2em;\n  font-weight: normal;\n  margin: 0;\n  padding: 0.6em 0;\n  text-align: center;\n  width: 100%;\n}\n\n#${i}.${i}-min #${i}-title {\n  display: none;\n}\n\n#${i}-title-errors {\n  color: #ff5f58;\n  font-style: normal;\n  padding-left: 1em;\n}\n\n#${i}-title-warnings {\n  color: #ffbd2e;\n  font-style: normal;\n  padding-left: 1em;\n}\n\n#${i}-problems {\n  overflow-y: auto;\n  padding: 1em 2em;\n}\n\n#${i}-problems pre {\n  color: #ddd;\n  display: block;\n  font-size: 1.3em;\n\tfont-family: 'Open Sans', Helvetica, Arial, sans-serif;\n  white-space: pre-wrap;\n}\n\n#${i}-problems pre em {\n  background: #ff5f58;\n  border-radius: 0.3em;\n  color: #641e16;\n  font-style: normal;\n  line-height: 3em;\n  margin-right: 0.4em;\n  padding: 0.1em 0.4em;\n  text-transform: uppercase;\n}\n\npre#${i}-warnings em {\n  background: #ffbd2e;\n  color: #3e2723;\n}\n\npre#${i}-success {\n  display: none;\n  text-align: center;\n}\n\npre#${i}-success em {\n  background: #7fb900;\n  color: #004d40;\n}\n\n#${i}-problems.${i}-success #${i}-success {\n  display: block;\n}\n\n#${i}.${i}-min #${i}-problems {\n  display: none;\n}\n\n#${i}-nav {\n  opacity: 0.5;\n  padding: 1.2em;\n  position: absolute;\n}\n\n#${i}.${i}-min #${i}-nav {\n  display: none;\n}\n\n#${i}-nav:hover {\n  opacity: 1;\n}\n\n#${i}-nav div {\n  background: #ff5f58;\n  border-radius: 1.2em;\n  cursor: pointer;\n  display: inline-block;\n  height: 1.2em;\n  position: relative;\n  width: 1.2em;\n}\n\ndiv#${i}-min {\n  background: #ffbd2e;\n  margin-left: 0.8em;\n}\n\n#${i}-beacon {\n  border-radius: 3em;\n  display: none;\n  font-size: 10px;\n  height: 3em;\n  margin: 1.6em auto;\n  position: relative;\n  width: 3em;\n}\n\n#${i}-beacon:before, #${i}-beacon:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(127,185,0, 0.2);\n  border-radius: 3em;\n  opacity: 0;\n}\n\n#${i}-beacon:before {\n  animation: ${i}-pulse 3s infinite linear;\n  transform: scale(1);\n}\n\n#${i}-beacon:after {\n  animation: ${i}-pulse 3s 2s infinite linear;\n}\n\n\n@keyframes ${i}-pulse {\n  0% {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  33% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  100% {\n    opacity: 0;\n    transform: scale(1.4);\n  }\n}\n\n#${i}-beacon mark {\n  background: rgba(127, 185, 0, 1);\n  border-radius: 100% 100%;\n  height: 1em;\n  left: 1em;\n  position: absolute;\n  top: 1em;\n  width: 1em;\n}\n\n#${i}-beacon.${i}-error mark {\n  background: #ff5f58;\n}\n\n#${i}-beacon.${i}-error:before, #${i}-beacon.error:after {\n  background: rgba(255, 95, 88, 0.2);\n}\n\n#${i}-beacon.${i}-warning mark {\n  background: #ffbd2e;\n}\n\n#${i}-beacon.${i}-warning:before, #${i}-beacon.warning:after {\n  background: rgba(255, 189, 46, 0.2);\n}\n`,c=`\n<aside id="${i}" class="${i}-hidden" title="build status">\n  <figure id="${i}-beacon">\n    <mark/>\n  </figure>\n  <nav id="${i}-nav">\n    <div id="${i}-close" title="close"></div>\n    <div id="${i}-min" title="minmize"></div>\n  </nav>\n  <h1 id="${i}-title">\n    build status\n    <em id="${i}-title-errors"></em>\n    <em id="${i}-title-warnings"></em>\n  </h1>\n  <article id="${i}-problems">\n    <pre id="${i}-success"><em>Build Successful</em></pre>\n    <pre id="${i}-errors"></pre>\n    <pre id="${i}-warnings"></pre>\n  </article>\n</aside>\n`;n.exports={init:(n,e)=>{const t=`${i}-hidden`;let u,d,l,f,h,p,m;const A=()=>{f.innerHTML="",h.innerHTML="",l.classList.remove(`${i}-success`),d.className=""};document.addEventListener("DOMContentLoaded",()=>{r(s),[u]=a(c),d=document.querySelector(`#${i}-beacon`),l=document.querySelector(`#${i}-problems`),f=document.querySelector(`#${i}-errors`),h=document.querySelector(`#${i}-warnings`),p=document.querySelector(`#${i}-title-errors`),m=document.querySelector(`#${i}-title-warnings`);const n=document.querySelector(`#${i}-close`),e=document.querySelector(`#${i}-min`);u.addEventListener("click",()=>{u.classList.remove(`${i}-min`)}),n.addEventListener("click",()=>{u.classList.add(`${i}-hidden`)}),e.addEventListener("click",n=>{u.classList.add(`${i}-min`),n.stopImmediatePropagation()})}),o(e,(n,e)=>{if(u)switch(n){case"problems":A(),(n=>{if(n.length){d.classList.add(`${i}-error`);for(const e of n)a(`<em>Error</em> in ${e}`,f);p.innerText=`${n.length} Error(s)`}else p.innerText="";u.classList.remove(t)})(e.errors),(n=>{if(n.length){d.classList.contains(`${i}-error`)||d.classList.add(`${i}-warning`);for(const e of n)a(`<em>Warning</em> in ${e}`,h);m.innerText=`${n.length} Warning(s)`}else m.innerText="";u.classList.remove(t)})(e.warnings),u.classList.remove(t);break;case"replace":if(!f.children.length&&!h.children.length)return;A(),l.classList.add(`${i}-success`),u.classList.remove(t),setTimeout(()=>u.classList.add(t),3e3)}})}}},function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"create",function(){return m}),t.d(r,"clone",function(){return A}),t.d(r,"copy",function(){return v}),t.d(r,"fromValues",function(){return b}),t.d(r,"set",function(){return M}),t.d(r,"identity",function(){return g}),t.d(r,"transpose",function(){return y}),t.d(r,"invert",function(){return w}),t.d(r,"adjoint",function(){return E}),t.d(r,"determinant",function(){return x}),t.d(r,"multiply",function(){return T}),t.d(r,"translate",function(){return C}),t.d(r,"scale",function(){return $}),t.d(r,"rotate",function(){return D}),t.d(r,"rotateX",function(){return S}),t.d(r,"rotateY",function(){return O}),t.d(r,"rotateZ",function(){return L}),t.d(r,"fromTranslation",function(){return _}),t.d(r,"fromScaling",function(){return I}),t.d(r,"fromRotation",function(){return P}),t.d(r,"fromXRotation",function(){return R}),t.d(r,"fromYRotation",function(){return k}),t.d(r,"fromZRotation",function(){return N}),t.d(r,"fromRotationTranslation",function(){return F}),t.d(r,"fromQuat2",function(){return q}),t.d(r,"getTranslation",function(){return H}),t.d(r,"getScaling",function(){return Y}),t.d(r,"getRotation",function(){return z}),t.d(r,"fromRotationTranslationScale",function(){return V}),t.d(r,"fromRotationTranslationScaleOrigin",function(){return B}),t.d(r,"fromQuat",function(){return j}),t.d(r,"frustum",function(){return U}),t.d(r,"perspective",function(){return G}),t.d(r,"perspectiveFromFieldOfView",function(){return Q}),t.d(r,"ortho",function(){return W}),t.d(r,"lookAt",function(){return X}),t.d(r,"targetTo",function(){return J}),t.d(r,"str",function(){return K}),t.d(r,"frob",function(){return Z}),t.d(r,"add",function(){return nn}),t.d(r,"subtract",function(){return en}),t.d(r,"multiplyScalar",function(){return tn}),t.d(r,"multiplyScalarAndAdd",function(){return rn}),t.d(r,"exactEquals",function(){return an}),t.d(r,"equals",function(){return on}),t.d(r,"mul",function(){return sn}),t.d(r,"sub",function(){return cn});var a={};t.r(a),t.d(a,"create",function(){return un}),t.d(a,"clone",function(){return dn}),t.d(a,"length",function(){return ln}),t.d(a,"fromValues",function(){return fn}),t.d(a,"copy",function(){return hn}),t.d(a,"set",function(){return pn}),t.d(a,"add",function(){return mn}),t.d(a,"subtract",function(){return An}),t.d(a,"multiply",function(){return vn}),t.d(a,"divide",function(){return bn}),t.d(a,"ceil",function(){return Mn}),t.d(a,"floor",function(){return gn}),t.d(a,"min",function(){return yn}),t.d(a,"max",function(){return wn}),t.d(a,"round",function(){return En}),t.d(a,"scale",function(){return xn}),t.d(a,"scaleAndAdd",function(){return Tn}),t.d(a,"distance",function(){return Cn}),t.d(a,"squaredDistance",function(){return $n}),t.d(a,"squaredLength",function(){return Dn}),t.d(a,"negate",function(){return Sn}),t.d(a,"inverse",function(){return On}),t.d(a,"normalize",function(){return Ln}),t.d(a,"dot",function(){return _n}),t.d(a,"cross",function(){return In}),t.d(a,"lerp",function(){return Pn}),t.d(a,"hermite",function(){return Rn}),t.d(a,"bezier",function(){return kn}),t.d(a,"random",function(){return Nn}),t.d(a,"transformMat4",function(){return Fn}),t.d(a,"transformMat3",function(){return qn}),t.d(a,"transformQuat",function(){return Hn}),t.d(a,"rotateX",function(){return Yn}),t.d(a,"rotateY",function(){return zn}),t.d(a,"rotateZ",function(){return Vn}),t.d(a,"angle",function(){return Bn}),t.d(a,"str",function(){return jn}),t.d(a,"exactEquals",function(){return Un}),t.d(a,"equals",function(){return Gn}),t.d(a,"sub",function(){return Wn}),t.d(a,"mul",function(){return Xn}),t.d(a,"div",function(){return Jn}),t.d(a,"dist",function(){return Kn}),t.d(a,"sqrDist",function(){return Zn}),t.d(a,"len",function(){return ne}),t.d(a,"sqrLen",function(){return ee}),t.d(a,"forEach",function(){return te});var o={};t.r(o),t.d(o,"create",function(){return oe}),t.d(o,"identity",function(){return ie}),t.d(o,"setAxisAngle",function(){return se}),t.d(o,"getAxisAngle",function(){return ce}),t.d(o,"multiply",function(){return ue}),t.d(o,"rotateX",function(){return de}),t.d(o,"rotateY",function(){return le}),t.d(o,"rotateZ",function(){return fe}),t.d(o,"calculateW",function(){return he}),t.d(o,"slerp",function(){return pe}),t.d(o,"random",function(){return me}),t.d(o,"invert",function(){return Ae}),t.d(o,"conjugate",function(){return ve}),t.d(o,"fromMat3",function(){return be}),t.d(o,"fromEuler",function(){return Me}),t.d(o,"str",function(){return ge}),t.d(o,"clone",function(){return De}),t.d(o,"fromValues",function(){return Se}),t.d(o,"copy",function(){return Oe}),t.d(o,"set",function(){return Le}),t.d(o,"add",function(){return _e}),t.d(o,"mul",function(){return Ie}),t.d(o,"scale",function(){return Pe}),t.d(o,"dot",function(){return Re}),t.d(o,"lerp",function(){return ke}),t.d(o,"length",function(){return Ne}),t.d(o,"len",function(){return Fe}),t.d(o,"squaredLength",function(){return qe}),t.d(o,"sqrLen",function(){return He}),t.d(o,"normalize",function(){return Ye}),t.d(o,"exactEquals",function(){return ze}),t.d(o,"equals",function(){return Ve}),t.d(o,"rotationTo",function(){return Be}),t.d(o,"sqlerp",function(){return je}),t.d(o,"setAxes",function(){return Ue});const i=Object.freeze({SIZE:Object.freeze({5120:1,5121:1,5122:2,5123:2,5125:4,5126:4}),TYPE:Object.freeze({BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126}),ID:Object.freeze({5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5125:"UNSIGNED_INT",5126:"FLOAT"})}),s=Object.freeze({SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),c=Object.freeze({ORTHOGRAPHIC:"orthographic",PERSPECTIVE:"perspective"}),u=Object.freeze({POSITION:0,NORMAL:1,TEXCOORD_0:2,JOINTS_0:3,JOINTS_1:5,WEIGHTS_0:4,WEIGHTS_1:6,TANGENT:7}),d=Object.freeze({INDEX:{type:["SCALAR"],componentType:[i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT,i.TYPE.UNSIGNED_INT]},POSITION:{type:["VEC3"],componentType:[i.TYPE.FLOAT]},NORMAL:{type:["VEC3"],componentType:[i.TYPE.FLOAT]},TANGENT:{type:["VEC4"],componentType:[i.TYPE.FLOAT]},TEXCOORD_0:{type:["VEC2"],componentType:[i.TYPE.FLOAT,i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT]},TEXCOORD_1:{type:["VEC2"],componentType:[i.TYPE.FLOAT,i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT]},COLOR_0:{type:["VEC3","VEC4"],componentType:[i.TYPE.FLOAT,i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT]},JOINTS_0:{type:["VEC4"],componentType:[i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT]},WEIGHTS_0:{type:["VEC4"],componentType:[i.TYPE.FLOAT,i.TYPE.UNSIGNED_BYTE,i.TYPE.UNSIGNED_SHORT]}}),l=Object.freeze({ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER:34962});var f=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random;Math.PI;function m(){var n=new h(16);return h!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function A(n){var e=new h(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function v(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function b(n,e,t,r,a,o,i,s,c,u,d,l,f,p,m,A){var v=new h(16);return v[0]=n,v[1]=e,v[2]=t,v[3]=r,v[4]=a,v[5]=o,v[6]=i,v[7]=s,v[8]=c,v[9]=u,v[10]=d,v[11]=l,v[12]=f,v[13]=p,v[14]=m,v[15]=A,v}function M(n,e,t,r,a,o,i,s,c,u,d,l,f,h,p,m,A){return n[0]=e,n[1]=t,n[2]=r,n[3]=a,n[4]=o,n[5]=i,n[6]=s,n[7]=c,n[8]=u,n[9]=d,n[10]=l,n[11]=f,n[12]=h,n[13]=p,n[14]=m,n[15]=A,n}function g(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function y(n,e){if(n===e){var t=e[1],r=e[2],a=e[3],o=e[6],i=e[7],s=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=r,n[9]=o,n[11]=e[14],n[12]=a,n[13]=i,n[14]=s}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15];return n}function w(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],c=e[6],u=e[7],d=e[8],l=e[9],f=e[10],h=e[11],p=e[12],m=e[13],A=e[14],v=e[15],b=t*s-r*i,M=t*c-a*i,g=t*u-o*i,y=r*c-a*s,w=r*u-o*s,E=a*u-o*c,x=d*m-l*p,T=d*A-f*p,C=d*v-h*p,$=l*A-f*m,D=l*v-h*m,S=f*v-h*A,O=b*S-M*D+g*$+y*C-w*T+E*x;return O?(O=1/O,n[0]=(s*S-c*D+u*$)*O,n[1]=(a*D-r*S-o*$)*O,n[2]=(m*E-A*w+v*y)*O,n[3]=(f*w-l*E-h*y)*O,n[4]=(c*C-i*S-u*T)*O,n[5]=(t*S-a*C+o*T)*O,n[6]=(A*g-p*E-v*M)*O,n[7]=(d*E-f*g+h*M)*O,n[8]=(i*D-s*C+u*x)*O,n[9]=(r*C-t*D-o*x)*O,n[10]=(p*w-m*g+v*b)*O,n[11]=(l*g-d*w-h*b)*O,n[12]=(s*T-i*$-c*x)*O,n[13]=(t*$-r*T+a*x)*O,n[14]=(m*M-p*y-A*b)*O,n[15]=(d*y-l*M+f*b)*O,n):null}function E(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],c=e[6],u=e[7],d=e[8],l=e[9],f=e[10],h=e[11],p=e[12],m=e[13],A=e[14],v=e[15];return n[0]=s*(f*v-h*A)-l*(c*v-u*A)+m*(c*h-u*f),n[1]=-(r*(f*v-h*A)-l*(a*v-o*A)+m*(a*h-o*f)),n[2]=r*(c*v-u*A)-s*(a*v-o*A)+m*(a*u-o*c),n[3]=-(r*(c*h-u*f)-s*(a*h-o*f)+l*(a*u-o*c)),n[4]=-(i*(f*v-h*A)-d*(c*v-u*A)+p*(c*h-u*f)),n[5]=t*(f*v-h*A)-d*(a*v-o*A)+p*(a*h-o*f),n[6]=-(t*(c*v-u*A)-i*(a*v-o*A)+p*(a*u-o*c)),n[7]=t*(c*h-u*f)-i*(a*h-o*f)+d*(a*u-o*c),n[8]=i*(l*v-h*m)-d*(s*v-u*m)+p*(s*h-u*l),n[9]=-(t*(l*v-h*m)-d*(r*v-o*m)+p*(r*h-o*l)),n[10]=t*(s*v-u*m)-i*(r*v-o*m)+p*(r*u-o*s),n[11]=-(t*(s*h-u*l)-i*(r*h-o*l)+d*(r*u-o*s)),n[12]=-(i*(l*A-f*m)-d*(s*A-c*m)+p*(s*f-c*l)),n[13]=t*(l*A-f*m)-d*(r*A-a*m)+p*(r*f-a*l),n[14]=-(t*(s*A-c*m)-i*(r*A-a*m)+p*(r*c-a*s)),n[15]=t*(s*f-c*l)-i*(r*f-a*l)+d*(r*c-a*s),n}function x(n){var e=n[0],t=n[1],r=n[2],a=n[3],o=n[4],i=n[5],s=n[6],c=n[7],u=n[8],d=n[9],l=n[10],f=n[11],h=n[12],p=n[13],m=n[14],A=n[15];return(e*i-t*o)*(l*A-f*m)-(e*s-r*o)*(d*A-f*p)+(e*c-a*o)*(d*m-l*p)+(t*s-r*i)*(u*A-f*h)-(t*c-a*i)*(u*m-l*h)+(r*c-a*s)*(u*p-d*h)}function T(n,e,t){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],c=e[5],u=e[6],d=e[7],l=e[8],f=e[9],h=e[10],p=e[11],m=e[12],A=e[13],v=e[14],b=e[15],M=t[0],g=t[1],y=t[2],w=t[3];return n[0]=M*r+g*s+y*l+w*m,n[1]=M*a+g*c+y*f+w*A,n[2]=M*o+g*u+y*h+w*v,n[3]=M*i+g*d+y*p+w*b,M=t[4],g=t[5],y=t[6],w=t[7],n[4]=M*r+g*s+y*l+w*m,n[5]=M*a+g*c+y*f+w*A,n[6]=M*o+g*u+y*h+w*v,n[7]=M*i+g*d+y*p+w*b,M=t[8],g=t[9],y=t[10],w=t[11],n[8]=M*r+g*s+y*l+w*m,n[9]=M*a+g*c+y*f+w*A,n[10]=M*o+g*u+y*h+w*v,n[11]=M*i+g*d+y*p+w*b,M=t[12],g=t[13],y=t[14],w=t[15],n[12]=M*r+g*s+y*l+w*m,n[13]=M*a+g*c+y*f+w*A,n[14]=M*o+g*u+y*h+w*v,n[15]=M*i+g*d+y*p+w*b,n}function C(n,e,t){var r=t[0],a=t[1],o=t[2],i=void 0,s=void 0,c=void 0,u=void 0,d=void 0,l=void 0,f=void 0,h=void 0,p=void 0,m=void 0,A=void 0,v=void 0;return e===n?(n[12]=e[0]*r+e[4]*a+e[8]*o+e[12],n[13]=e[1]*r+e[5]*a+e[9]*o+e[13],n[14]=e[2]*r+e[6]*a+e[10]*o+e[14],n[15]=e[3]*r+e[7]*a+e[11]*o+e[15]):(i=e[0],s=e[1],c=e[2],u=e[3],d=e[4],l=e[5],f=e[6],h=e[7],p=e[8],m=e[9],A=e[10],v=e[11],n[0]=i,n[1]=s,n[2]=c,n[3]=u,n[4]=d,n[5]=l,n[6]=f,n[7]=h,n[8]=p,n[9]=m,n[10]=A,n[11]=v,n[12]=i*r+d*a+p*o+e[12],n[13]=s*r+l*a+m*o+e[13],n[14]=c*r+f*a+A*o+e[14],n[15]=u*r+h*a+v*o+e[15]),n}function $(n,e,t){var r=t[0],a=t[1],o=t[2];return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*a,n[5]=e[5]*a,n[6]=e[6]*a,n[7]=e[7]*a,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function D(n,e,t,r){var a,o,i,s,c,u,d,l,h,p,m,A,v,b,M,g,y,w,E,x,T,C,$,D,S=r[0],O=r[1],L=r[2],_=Math.sqrt(S*S+O*O+L*L);return _<f?null:(S*=_=1/_,O*=_,L*=_,a=Math.sin(t),i=1-(o=Math.cos(t)),s=e[0],c=e[1],u=e[2],d=e[3],l=e[4],h=e[5],p=e[6],m=e[7],A=e[8],v=e[9],b=e[10],M=e[11],g=S*S*i+o,y=O*S*i+L*a,w=L*S*i-O*a,E=S*O*i-L*a,x=O*O*i+o,T=L*O*i+S*a,C=S*L*i+O*a,$=O*L*i-S*a,D=L*L*i+o,n[0]=s*g+l*y+A*w,n[1]=c*g+h*y+v*w,n[2]=u*g+p*y+b*w,n[3]=d*g+m*y+M*w,n[4]=s*E+l*x+A*T,n[5]=c*E+h*x+v*T,n[6]=u*E+p*x+b*T,n[7]=d*E+m*x+M*T,n[8]=s*C+l*$+A*D,n[9]=c*C+h*$+v*D,n[10]=u*C+p*$+b*D,n[11]=d*C+m*$+M*D,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function S(n,e,t){var r=Math.sin(t),a=Math.cos(t),o=e[4],i=e[5],s=e[6],c=e[7],u=e[8],d=e[9],l=e[10],f=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*a+u*r,n[5]=i*a+d*r,n[6]=s*a+l*r,n[7]=c*a+f*r,n[8]=u*a-o*r,n[9]=d*a-i*r,n[10]=l*a-s*r,n[11]=f*a-c*r,n}function O(n,e,t){var r=Math.sin(t),a=Math.cos(t),o=e[0],i=e[1],s=e[2],c=e[3],u=e[8],d=e[9],l=e[10],f=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*a-u*r,n[1]=i*a-d*r,n[2]=s*a-l*r,n[3]=c*a-f*r,n[8]=o*r+u*a,n[9]=i*r+d*a,n[10]=s*r+l*a,n[11]=c*r+f*a,n}function L(n,e,t){var r=Math.sin(t),a=Math.cos(t),o=e[0],i=e[1],s=e[2],c=e[3],u=e[4],d=e[5],l=e[6],f=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*a+u*r,n[1]=i*a+d*r,n[2]=s*a+l*r,n[3]=c*a+f*r,n[4]=u*a-o*r,n[5]=d*a-i*r,n[6]=l*a-s*r,n[7]=f*a-c*r,n}function _(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}function I(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function P(n,e,t){var r,a,o,i=t[0],s=t[1],c=t[2],u=Math.sqrt(i*i+s*s+c*c);return u<f?null:(i*=u=1/u,s*=u,c*=u,r=Math.sin(e),o=1-(a=Math.cos(e)),n[0]=i*i*o+a,n[1]=s*i*o+c*r,n[2]=c*i*o-s*r,n[3]=0,n[4]=i*s*o-c*r,n[5]=s*s*o+a,n[6]=c*s*o+i*r,n[7]=0,n[8]=i*c*o+s*r,n[9]=s*c*o-i*r,n[10]=c*c*o+a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}function R(n,e){var t=Math.sin(e),r=Math.cos(e);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=r,n[6]=t,n[7]=0,n[8]=0,n[9]=-t,n[10]=r,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function k(n,e){var t=Math.sin(e),r=Math.cos(e);return n[0]=r,n[1]=0,n[2]=-t,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=t,n[9]=0,n[10]=r,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function N(n,e){var t=Math.sin(e),r=Math.cos(e);return n[0]=r,n[1]=t,n[2]=0,n[3]=0,n[4]=-t,n[5]=r,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function F(n,e,t){var r=e[0],a=e[1],o=e[2],i=e[3],s=r+r,c=a+a,u=o+o,d=r*s,l=r*c,f=r*u,h=a*c,p=a*u,m=o*u,A=i*s,v=i*c,b=i*u;return n[0]=1-(h+m),n[1]=l+b,n[2]=f-v,n[3]=0,n[4]=l-b,n[5]=1-(d+m),n[6]=p+A,n[7]=0,n[8]=f+v,n[9]=p-A,n[10]=1-(d+h),n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function q(n,e){var t=new h(3),r=-e[0],a=-e[1],o=-e[2],i=e[3],s=e[4],c=e[5],u=e[6],d=e[7],l=r*r+a*a+o*o+i*i;return l>0?(t[0]=2*(s*i+d*r+c*o-u*a)/l,t[1]=2*(c*i+d*a+u*r-s*o)/l,t[2]=2*(u*i+d*o+s*a-c*r)/l):(t[0]=2*(s*i+d*r+c*o-u*a),t[1]=2*(c*i+d*a+u*r-s*o),t[2]=2*(u*i+d*o+s*a-c*r)),F(n,e,t),n}function H(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function Y(n,e){var t=e[0],r=e[1],a=e[2],o=e[4],i=e[5],s=e[6],c=e[8],u=e[9],d=e[10];return n[0]=Math.sqrt(t*t+r*r+a*a),n[1]=Math.sqrt(o*o+i*i+s*s),n[2]=Math.sqrt(c*c+u*u+d*d),n}function z(n,e){var t=e[0]+e[5]+e[10],r=0;return t>0?(r=2*Math.sqrt(t+1),n[3]=.25*r,n[0]=(e[6]-e[9])/r,n[1]=(e[8]-e[2])/r,n[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),n[3]=(e[6]-e[9])/r,n[0]=.25*r,n[1]=(e[1]+e[4])/r,n[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),n[3]=(e[8]-e[2])/r,n[0]=(e[1]+e[4])/r,n[1]=.25*r,n[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),n[3]=(e[1]-e[4])/r,n[0]=(e[8]+e[2])/r,n[1]=(e[6]+e[9])/r,n[2]=.25*r),n}function V(n,e,t,r){var a=e[0],o=e[1],i=e[2],s=e[3],c=a+a,u=o+o,d=i+i,l=a*c,f=a*u,h=a*d,p=o*u,m=o*d,A=i*d,v=s*c,b=s*u,M=s*d,g=r[0],y=r[1],w=r[2];return n[0]=(1-(p+A))*g,n[1]=(f+M)*g,n[2]=(h-b)*g,n[3]=0,n[4]=(f-M)*y,n[5]=(1-(l+A))*y,n[6]=(m+v)*y,n[7]=0,n[8]=(h+b)*w,n[9]=(m-v)*w,n[10]=(1-(l+p))*w,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function B(n,e,t,r,a){var o=e[0],i=e[1],s=e[2],c=e[3],u=o+o,d=i+i,l=s+s,f=o*u,h=o*d,p=o*l,m=i*d,A=i*l,v=s*l,b=c*u,M=c*d,g=c*l,y=r[0],w=r[1],E=r[2],x=a[0],T=a[1],C=a[2],$=(1-(m+v))*y,D=(h+g)*y,S=(p-M)*y,O=(h-g)*w,L=(1-(f+v))*w,_=(A+b)*w,I=(p+M)*E,P=(A-b)*E,R=(1-(f+m))*E;return n[0]=$,n[1]=D,n[2]=S,n[3]=0,n[4]=O,n[5]=L,n[6]=_,n[7]=0,n[8]=I,n[9]=P,n[10]=R,n[11]=0,n[12]=t[0]+x-($*x+O*T+I*C),n[13]=t[1]+T-(D*x+L*T+P*C),n[14]=t[2]+C-(S*x+_*T+R*C),n[15]=1,n}function j(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],i=t+t,s=r+r,c=a+a,u=t*i,d=r*i,l=r*s,f=a*i,h=a*s,p=a*c,m=o*i,A=o*s,v=o*c;return n[0]=1-l-p,n[1]=d+v,n[2]=f-A,n[3]=0,n[4]=d-v,n[5]=1-u-p,n[6]=h+m,n[7]=0,n[8]=f+A,n[9]=h-m,n[10]=1-u-l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function U(n,e,t,r,a,o,i){var s=1/(t-e),c=1/(a-r),u=1/(o-i);return n[0]=2*o*s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*s,n[9]=(a+r)*c,n[10]=(i+o)*u,n[11]=-1,n[12]=0,n[13]=0,n[14]=i*o*2*u,n[15]=0,n}function G(n,e,t,r,a){var o=1/Math.tan(e/2),i=void 0;return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=a&&a!==1/0?(i=1/(r-a),n[10]=(a+r)*i,n[14]=2*a*r*i):(n[10]=-1,n[14]=-2*r),n}function Q(n,e,t,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),c=2/(i+s),u=2/(a+o);return n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=-(i-s)*c*.5,n[9]=(a-o)*u*.5,n[10]=r/(t-r),n[11]=-1,n[12]=0,n[13]=0,n[14]=r*t/(t-r),n[15]=0,n}function W(n,e,t,r,a,o,i){var s=1/(e-t),c=1/(r-a),u=1/(o-i);return n[0]=-2*s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*s,n[13]=(a+r)*c,n[14]=(i+o)*u,n[15]=1,n}function X(n,e,t,r){var a=void 0,o=void 0,i=void 0,s=void 0,c=void 0,u=void 0,d=void 0,l=void 0,h=void 0,p=void 0,m=e[0],A=e[1],v=e[2],b=r[0],M=r[1],y=r[2],w=t[0],E=t[1],x=t[2];return Math.abs(m-w)<f&&Math.abs(A-E)<f&&Math.abs(v-x)<f?g(n):(d=m-w,l=A-E,h=v-x,a=M*(h*=p=1/Math.sqrt(d*d+l*l+h*h))-y*(l*=p),o=y*(d*=p)-b*h,i=b*l-M*d,(p=Math.sqrt(a*a+o*o+i*i))?(a*=p=1/p,o*=p,i*=p):(a=0,o=0,i=0),s=l*i-h*o,c=h*a-d*i,u=d*o-l*a,(p=Math.sqrt(s*s+c*c+u*u))?(s*=p=1/p,c*=p,u*=p):(s=0,c=0,u=0),n[0]=a,n[1]=s,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=l,n[7]=0,n[8]=i,n[9]=u,n[10]=h,n[11]=0,n[12]=-(a*m+o*A+i*v),n[13]=-(s*m+c*A+u*v),n[14]=-(d*m+l*A+h*v),n[15]=1,n)}function J(n,e,t,r){var a=e[0],o=e[1],i=e[2],s=r[0],c=r[1],u=r[2],d=a-t[0],l=o-t[1],f=i-t[2],h=d*d+l*l+f*f;h>0&&(d*=h=1/Math.sqrt(h),l*=h,f*=h);var p=c*f-u*l,m=u*d-s*f,A=s*l-c*d;return(h=p*p+m*m+A*A)>0&&(p*=h=1/Math.sqrt(h),m*=h,A*=h),n[0]=p,n[1]=m,n[2]=A,n[3]=0,n[4]=l*A-f*m,n[5]=f*p-d*A,n[6]=d*m-l*p,n[7]=0,n[8]=d,n[9]=l,n[10]=f,n[11]=0,n[12]=a,n[13]=o,n[14]=i,n[15]=1,n}function K(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"}function Z(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2)+Math.pow(n[9],2)+Math.pow(n[10],2)+Math.pow(n[11],2)+Math.pow(n[12],2)+Math.pow(n[13],2)+Math.pow(n[14],2)+Math.pow(n[15],2))}function nn(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function en(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function tn(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}function rn(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n[2]=e[2]+t[2]*r,n[3]=e[3]+t[3]*r,n[4]=e[4]+t[4]*r,n[5]=e[5]+t[5]*r,n[6]=e[6]+t[6]*r,n[7]=e[7]+t[7]*r,n[8]=e[8]+t[8]*r,n[9]=e[9]+t[9]*r,n[10]=e[10]+t[10]*r,n[11]=e[11]+t[11]*r,n[12]=e[12]+t[12]*r,n[13]=e[13]+t[13]*r,n[14]=e[14]+t[14]*r,n[15]=e[15]+t[15]*r,n}function an(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}function on(n,e){var t=n[0],r=n[1],a=n[2],o=n[3],i=n[4],s=n[5],c=n[6],u=n[7],d=n[8],l=n[9],h=n[10],p=n[11],m=n[12],A=n[13],v=n[14],b=n[15],M=e[0],g=e[1],y=e[2],w=e[3],E=e[4],x=e[5],T=e[6],C=e[7],$=e[8],D=e[9],S=e[10],O=e[11],L=e[12],_=e[13],I=e[14],P=e[15];return Math.abs(t-M)<=f*Math.max(1,Math.abs(t),Math.abs(M))&&Math.abs(r-g)<=f*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-y)<=f*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-w)<=f*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-E)<=f*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(s-x)<=f*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-T)<=f*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-C)<=f*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(d-$)<=f*Math.max(1,Math.abs(d),Math.abs($))&&Math.abs(l-D)<=f*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(h-S)<=f*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(p-O)<=f*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(m-L)<=f*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(A-_)<=f*Math.max(1,Math.abs(A),Math.abs(_))&&Math.abs(v-I)<=f*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(b-P)<=f*Math.max(1,Math.abs(b),Math.abs(P))}var sn=T,cn=en;function un(){var n=new h(3);return h!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function dn(n){var e=new h(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function ln(n){var e=n[0],t=n[1],r=n[2];return Math.sqrt(e*e+t*t+r*r)}function fn(n,e,t){var r=new h(3);return r[0]=n,r[1]=e,r[2]=t,r}function hn(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function pn(n,e,t,r){return n[0]=e,n[1]=t,n[2]=r,n}function mn(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function An(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function vn(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function bn(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function Mn(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n}function gn(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n}function yn(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}function wn(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}function En(n,e){return n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n[2]=Math.round(e[2]),n}function xn(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function Tn(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n[2]=e[2]+t[2]*r,n}function Cn(n,e){var t=e[0]-n[0],r=e[1]-n[1],a=e[2]-n[2];return Math.sqrt(t*t+r*r+a*a)}function $n(n,e){var t=e[0]-n[0],r=e[1]-n[1],a=e[2]-n[2];return t*t+r*r+a*a}function Dn(n){var e=n[0],t=n[1],r=n[2];return e*e+t*t+r*r}function Sn(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function On(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function Ln(n,e){var t=e[0],r=e[1],a=e[2],o=t*t+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o),n}function _n(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function In(n,e,t){var r=e[0],a=e[1],o=e[2],i=t[0],s=t[1],c=t[2];return n[0]=a*c-o*s,n[1]=o*i-r*c,n[2]=r*s-a*i,n}function Pn(n,e,t,r){var a=e[0],o=e[1],i=e[2];return n[0]=a+r*(t[0]-a),n[1]=o+r*(t[1]-o),n[2]=i+r*(t[2]-i),n}function Rn(n,e,t,r,a,o){var i=o*o,s=i*(2*o-3)+1,c=i*(o-2)+o,u=i*(o-1),d=i*(3-2*o);return n[0]=e[0]*s+t[0]*c+r[0]*u+a[0]*d,n[1]=e[1]*s+t[1]*c+r[1]*u+a[1]*d,n[2]=e[2]*s+t[2]*c+r[2]*u+a[2]*d,n}function kn(n,e,t,r,a,o){var i=1-o,s=i*i,c=o*o,u=s*i,d=3*o*s,l=3*c*i,f=c*o;return n[0]=e[0]*u+t[0]*d+r[0]*l+a[0]*f,n[1]=e[1]*u+t[1]*d+r[1]*l+a[1]*f,n[2]=e[2]*u+t[2]*d+r[2]*l+a[2]*f,n}function Nn(n,e){e=e||1;var t=2*p()*Math.PI,r=2*p()-1,a=Math.sqrt(1-r*r)*e;return n[0]=Math.cos(t)*a,n[1]=Math.sin(t)*a,n[2]=r*e,n}function Fn(n,e,t){var r=e[0],a=e[1],o=e[2],i=t[3]*r+t[7]*a+t[11]*o+t[15];return i=i||1,n[0]=(t[0]*r+t[4]*a+t[8]*o+t[12])/i,n[1]=(t[1]*r+t[5]*a+t[9]*o+t[13])/i,n[2]=(t[2]*r+t[6]*a+t[10]*o+t[14])/i,n}function qn(n,e,t){var r=e[0],a=e[1],o=e[2];return n[0]=r*t[0]+a*t[3]+o*t[6],n[1]=r*t[1]+a*t[4]+o*t[7],n[2]=r*t[2]+a*t[5]+o*t[8],n}function Hn(n,e,t){var r=t[0],a=t[1],o=t[2],i=t[3],s=e[0],c=e[1],u=e[2],d=a*u-o*c,l=o*s-r*u,f=r*c-a*s,h=a*f-o*l,p=o*d-r*f,m=r*l-a*d,A=2*i;return d*=A,l*=A,f*=A,h*=2,p*=2,m*=2,n[0]=s+d+h,n[1]=c+l+p,n[2]=u+f+m,n}function Yn(n,e,t,r){var a=[],o=[];return a[0]=e[0]-t[0],a[1]=e[1]-t[1],a[2]=e[2]-t[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function zn(n,e,t,r){var a=[],o=[];return a[0]=e[0]-t[0],a[1]=e[1]-t[1],a[2]=e[2]-t[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function Vn(n,e,t,r){var a=[],o=[];return a[0]=e[0]-t[0],a[1]=e[1]-t[1],a[2]=e[2]-t[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2],n}function Bn(n,e){var t=fn(n[0],n[1],n[2]),r=fn(e[0],e[1],e[2]);Ln(t,t),Ln(r,r);var a=_n(t,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function jn(n){return"vec3("+n[0]+", "+n[1]+", "+n[2]+")"}function Un(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}function Gn(n,e){var t=n[0],r=n[1],a=n[2],o=e[0],i=e[1],s=e[2];return Math.abs(t-o)<=f*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(r-i)<=f*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-s)<=f*Math.max(1,Math.abs(a),Math.abs(s))}var Qn,Wn=An,Xn=vn,Jn=bn,Kn=Cn,Zn=$n,ne=ln,ee=Dn,te=(Qn=un(),function(n,e,t,r,a,o){var i=void 0,s=void 0;for(e||(e=3),t||(t=0),s=r?Math.min(r*e+t,n.length):n.length,i=t;i<s;i+=e)Qn[0]=n[i],Qn[1]=n[i+1],Qn[2]=n[i+2],a(Qn,Qn,o),n[i]=Qn[0],n[i+1]=Qn[1],n[i+2]=Qn[2];return n});function re(n){var e=n[0],t=n[1],r=n[2],a=n[3];return Math.sqrt(e*e+t*t+r*r+a*a)}function ae(n){var e=n[0],t=n[1],r=n[2],a=n[3];return e*e+t*t+r*r+a*a}!function(){var n,e=(n=new h(4),h!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n)}();function oe(){var n=new h(4);return h!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function ie(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function se(n,e,t){t*=.5;var r=Math.sin(t);return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=Math.cos(t),n}function ce(n,e){var t=2*Math.acos(e[3]),r=Math.sin(t/2);return r>f?(n[0]=e[0]/r,n[1]=e[1]/r,n[2]=e[2]/r):(n[0]=1,n[1]=0,n[2]=0),t}function ue(n,e,t){var r=e[0],a=e[1],o=e[2],i=e[3],s=t[0],c=t[1],u=t[2],d=t[3];return n[0]=r*d+i*s+a*u-o*c,n[1]=a*d+i*c+o*s-r*u,n[2]=o*d+i*u+r*c-a*s,n[3]=i*d-r*s-a*c-o*u,n}function de(n,e,t){t*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(t),c=Math.cos(t);return n[0]=r*c+i*s,n[1]=a*c+o*s,n[2]=o*c-a*s,n[3]=i*c-r*s,n}function le(n,e,t){t*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(t),c=Math.cos(t);return n[0]=r*c-o*s,n[1]=a*c+i*s,n[2]=o*c+r*s,n[3]=i*c-a*s,n}function fe(n,e,t){t*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(t),c=Math.cos(t);return n[0]=r*c+a*s,n[1]=a*c-r*s,n[2]=o*c+i*s,n[3]=i*c-o*s,n}function he(n,e){var t=e[0],r=e[1],a=e[2];return n[0]=t,n[1]=r,n[2]=a,n[3]=Math.sqrt(Math.abs(1-t*t-r*r-a*a)),n}function pe(n,e,t,r){var a=e[0],o=e[1],i=e[2],s=e[3],c=t[0],u=t[1],d=t[2],l=t[3],h=void 0,p=void 0,m=void 0,A=void 0,v=void 0;return(p=a*c+o*u+i*d+s*l)<0&&(p=-p,c=-c,u=-u,d=-d,l=-l),1-p>f?(h=Math.acos(p),m=Math.sin(h),A=Math.sin((1-r)*h)/m,v=Math.sin(r*h)/m):(A=1-r,v=r),n[0]=A*a+v*c,n[1]=A*o+v*u,n[2]=A*i+v*d,n[3]=A*s+v*l,n}function me(n){var e=p(),t=p(),r=p(),a=Math.sqrt(1-e),o=Math.sqrt(e);return n[0]=a*Math.sin(2*Math.PI*t),n[1]=a*Math.cos(2*Math.PI*t),n[2]=o*Math.sin(2*Math.PI*r),n[3]=o*Math.cos(2*Math.PI*r),n}function Ae(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],i=t*t+r*r+a*a+o*o,s=i?1/i:0;return n[0]=-t*s,n[1]=-r*s,n[2]=-a*s,n[3]=o*s,n}function ve(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function be(n,e){var t=e[0]+e[4]+e[8],r=void 0;if(t>0)r=Math.sqrt(t+1),n[3]=.5*r,r=.5/r,n[0]=(e[5]-e[7])*r,n[1]=(e[6]-e[2])*r,n[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),n[a]=.5*r,r=.5/r,n[3]=(e[3*o+i]-e[3*i+o])*r,n[o]=(e[3*o+a]+e[3*a+o])*r,n[i]=(e[3*i+a]+e[3*a+i])*r}return n}function Me(n,e,t,r){var a=.5*Math.PI/180;e*=a,t*=a,r*=a;var o=Math.sin(e),i=Math.cos(e),s=Math.sin(t),c=Math.cos(t),u=Math.sin(r),d=Math.cos(r);return n[0]=o*c*d-i*s*u,n[1]=i*s*d+o*c*u,n[2]=i*c*u-o*s*d,n[3]=i*c*d+o*s*u,n}function ge(n){return"quat("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"}var ye,we,Ee,xe,Te,Ce,$e,De=function(n){var e=new h(4);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},Se=function(n,e,t,r){var a=new h(4);return a[0]=n,a[1]=e,a[2]=t,a[3]=r,a},Oe=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},Le=function(n,e,t,r,a){return n[0]=e,n[1]=t,n[2]=r,n[3]=a,n},_e=function(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},Ie=ue,Pe=function(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},Re=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]},ke=function(n,e,t,r){var a=e[0],o=e[1],i=e[2],s=e[3];return n[0]=a+r*(t[0]-a),n[1]=o+r*(t[1]-o),n[2]=i+r*(t[2]-i),n[3]=s+r*(t[3]-s),n},Ne=re,Fe=Ne,qe=ae,He=qe,Ye=function(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],i=t*t+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),n[0]=t*i,n[1]=r*i,n[2]=a*i,n[3]=o*i),n},ze=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]},Ve=function(n,e){var t=n[0],r=n[1],a=n[2],o=n[3],i=e[0],s=e[1],c=e[2],u=e[3];return Math.abs(t-i)<=f*Math.max(1,Math.abs(t),Math.abs(i))&&Math.abs(r-s)<=f*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-c)<=f*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-u)<=f*Math.max(1,Math.abs(o),Math.abs(u))},Be=(ye=un(),we=fn(1,0,0),Ee=fn(0,1,0),function(n,e,t){var r=_n(e,t);return r<-.999999?(In(ye,we,e),ne(ye)<1e-6&&In(ye,Ee,e),Ln(ye,ye),se(n,ye,Math.PI),n):r>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(In(ye,e,t),n[0]=ye[0],n[1]=ye[1],n[2]=ye[2],n[3]=1+r,Ye(n,n))}),je=(xe=oe(),Te=oe(),function(n,e,t,r,a,o){return pe(xe,e,a,o),pe(Te,t,r,o),pe(n,xe,Te,2*o*(1-o)),n}),Ue=(Ce=new h(9),h!=Float32Array&&(Ce[1]=0,Ce[2]=0,Ce[3]=0,Ce[5]=0,Ce[6]=0,Ce[7]=0),Ce[0]=1,Ce[4]=1,Ce[8]=1,$e=Ce,function(n,e,t,r){return $e[0]=t[0],$e[3]=t[1],$e[6]=t[2],$e[1]=r[0],$e[4]=r[1],$e[7]=r[2],$e[2]=-e[0],$e[5]=-e[1],$e[8]=-e[2],Ye(n,be(n,$e))}),Ge=({name:n=null,parent:e=null,children:t=[],mesh:i=null,camera:s=null,rotation:c=o.create(),translation:u=a.fromValues(0,0,0),scale:d=a.fromValues(1,1,1),matrix:l=null})=>{const f={name:n,children:t,mesh:i,camera:s,localMatrix:r.create(),worldMatrix:r.create(),translation:u,scale:d,rotation:c,add(n){n&&-1===this.children.indexOf(n)&&this.children.push(n)},remove(n){if(n){let e=this.children.indexOf(n);-1!==e&&(this.children.splice(e,1),n.parent=null)}},tick(n=null){this.updateLocalMatrix(),null!==n?r.multiply(this.worldMatrix,n,this.localMatrix):r.copy(this.worldMatrix,this.localMatrix);for(let n=0;n<this.children.length;n++)this.children[n].tick(this.worldMatrix)},updateLocalMatrix(){r.fromRotationTranslationScale(this.localMatrix,this.rotation,this.translation,this.scale)},setScale(n,e,t){this.scale[0]=n,this.scale[1]=e,this.scale[2]=t},applyScale(n,e,t){this.scale[0]*=n,this.scale[1]*=e,this.scale[2]*=t},setTranslation(n,e,t){this.translation[0]=n,this.translation[1]=e,this.translation[2]=t},applyTranslation(n,e,t){this.translation[0]+=n,this.translation[1]+=e,this.translation[2]+=t},setRotationFromEuler(n,e,t){o.fromEuler(this.rotation,n,e,t)},applyRotationX(n){o.rotateX(this.rotation,this.rotation,n)},applyRotationY(n){o.rotateY(this.rotation,this.rotation,n)},applyRotationZ(n){o.rotateZ(this.rotation,this.rotation,n)}};return e&&e.add(f),l&&(r.getRotation(f.rotation,l),r.getTranslation(f.translation,l),r.getScaling(f.scale,l)),f},Qe=({xmag:n=1,ymag:e=1,zfar:t=100,znear:a=0},o=null)=>({type:"orthographic",orthographic:{xmag:n,ymag:e,zfar:t,znear:a},perspective:null,name:o,projectionMatrix:r.ortho(r.create(),-n,n,-e,e,a,t),updateProjectionMatrix(){const{xmag:n,ymag:e,zfar:t,znear:a}=this.orthographic;this.projectionMatrix=r.ortho(this.projectionMatrix,-n,n,-e,e,a,t)}}),We=({aspectRatio:n,yfov:e=1.0472,zfar:t=null,znear:a=1},o=null)=>({type:"perspective",perspective:{aspectRatio:n,yfov:e,zfar:t,znear:a},orthographic:null,name:o,projectionMatrix:r.perspective(r.create(),e,n,a,t),updateProjectionMatrix(){const{aspectRatio:n,yfov:e,zfar:t,znear:a}=this.perspective;this.projectionMatrix=r.perspective(r.create(),e,n,a,t)}}),Xe=(n,e=4,t,r=null)=>({attributes:n,indices:r,material:t,mode:e,extras:{}});const Je="2.0".split(".").map(n=>parseInt(n));function Ke(n,e,t){let r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw Error(n.getShaderInfoLog(r));return r}var Ze=t(2),nt=t.n(Ze),et=t(3),tt=t.n(et),rt={node:Ge,importer:async n=>{const e=JSON.parse(n);let t=(e.asset.minVersion?e.asset.minVersion:e.asset.version).split(".").map(n=>parseInt(n));if(Je[0]!==t[0])return null;if(e.asset.minVersion&&Je[1]<t[1])return null;const r=await Promise.all(e.buffers.map(({uri:n})=>fetch(n).then(n=>n.arrayBuffer()))),a=e.bufferViews.map(({buffer:n,byteLength:e,byteOffset:t,target:a,byteStride:o})=>((n,e,t=0,r=r.ARRAY_BUFFER,a=0)=>({buffer:n,byteLength:e,byteOffset:t,byteStride:a,target:r,extras:{}}))(r[n],e,t,a,o)),o=e.accessors.map(({bufferView:n,componentType:e,type:t,count:r,min:o,max:s,byteOffset:c})=>(e===i.TYPE.FLOAT&&(o=o.map(n=>Math.fround(n)),s=s.map(n=>Math.fround(n))),((n,e,t,r,a,o,i=0,s=!1)=>({bufferView:n,type:t,componentType:e,byteOffset:i,count:r,min:a,max:o,normalized:s}))(a[n],e,t,r,o,s,c)));const s=e.meshes.map(({primitives:n,name:e})=>((n,e=null)=>({primitives:n,name:e}))(n.map(n=>(function({attributes:n,mode:e,indices:t}){let r={};for(let e in n){let t=o[n[e]];if(r[e]=t,!1===(d[e]&&d[e].type.includes(t.type)&&d[e].componentType.includes(t.componentType)))throw Error("GLTF2.0: Accessor is invalid.")}const a=o[t];if(!d.INDEX.type.includes(a.type)||!d.INDEX.componentType.includes(a.componentType))throw Error('GLTF2.0: Indices accessor should have componentType { 5121, 5123, 5125 }, and type "SCALAR".');const i=a.bufferView;if(i.target&&i.target!==l.ELEMENT_ARRAY_BUFFER)throw Error("GLTF2.0: Indices accessor should have a target equal to 34963 (ELEMENT_ARRAY_BUFFER).");return Xe(r,e,null,a)})(n)),e)),u=e.cameras.map(({name:n,type:e,orthographic:t,perspective:r})=>e===c.ORTHOGRAPHIC?Qe(t,n):e===c.PERSPECTIVE?We(r,n):null);const f=e.scenes.map(({nodes:n,name:t})=>((n=[],e=null)=>({nodes:n,name:e}))(n.map(n=>(function n(t){let{name:r,rotation:a,translation:o,scale:i,matrix:c,mesh:d,camera:l,children:f=[]}=e.nodes[t];return Ge({name:r,mesh:s[d],camera:u[l],rotation:a,translation:o,scale:i,matrix:c,children:f.map(e=>n(e))})})(n)),t));return{scene:f[e.scene],scenes:f}},renderer:(n,e)=>{const t=document.createElement("canvas");t.width=n,t.height=e;const a=t.getContext("webgl2");if(!a)return console.warn("WebGL 2.0 isn't available"),null;a.viewport(0,0,t.width,t.height),a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.enable(a.CULL_FACE);const o=((n,e,t)=>{let r=Ke(n,e,n.VERTEX_SHADER),a=Ke(n,t,n.FRAGMENT_SHADER),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Error when building shaders.");return o})(a,nt.a,tt.a);return a.useProgram(o),{domElement:t,gl:a,setSize(n,e){t.width=n,t.height=e,a.viewport(0,0,t.width,t.height),a.clearColor(1,1,1,1)},draw(n,e){let t=r.multiply(r.create(),e,n.worldMatrix);a.uniformMatrix4fv(a.getUniformLocation(o,"modelViewMatrix"),!1,t);let s=n.mesh;for(let n=0;n<s.primitives.length;n++){let e=s.primitives[n];if(!e.extras.vao)throw Error("Attempted to draw primitive with no VAO (Is the mesh loaded?).");if(a.bindVertexArray(e.extras.vao),e.indices){const n=e.indices.byteOffset/i.SIZE[e.indices.componentType];a.drawElements(e.mode,e.indices.count,e.indices.componentType,n)}else a.drawArrays(a.TRIANGLES,0,e.attributes.POSITION.count/3)}},render(n,e){a.clearColor(1,1,1,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.uniformMatrix4fv(a.getUniformLocation(o,"projectionMatrix"),!1,e.camera.projectionMatrix);const t=r.invert(r.create(),e.worldMatrix);let i=[];function s(n){n.mesh&&i.push(n),n.children.map(s)}n.nodes.forEach(n=>s(n));for(let n=0;n<i.length;n++)this.draw(i[n],t)},load(n){if(n.primitives)for(let e=0;e<n.primitives.length;e++){let t=n.primitives[e];if(t.extras.vao)continue;let r=a.createVertexArray();if(a.bindVertexArray(r),t.indices){let n=t.indices.bufferView;if(n.extras.element_array_buffer)a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,n.extras.element_array_buffer),n.extras.bufferAccessCount+=1;else{let e=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e);let t=new DataView(n.buffer,n.byteOffset,n.byteLength);a.bufferData(a.ELEMENT_ARRAY_BUFFER,t,a.STATIC_DRAW),n.extras.element_array_buffer=e,n.extras.bufferAccessCount=1}}for(let n in t.attributes){let e=t.attributes[n],r=e.bufferView;if(r.extras.array_buffer)a.bindBuffer(a.ARRAY_BUFFER,r.extras.array_buffer),r.extras.bufferAccessCount+=1;else{let t=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,t);let o=new DataView(r.buffer,r.byteOffset,r.byteLength);a.bufferData(a.ARRAY_BUFFER,o,a.STATIC_DRAW),a.vertexAttribPointer(u[n],s[e.type],e.componentType,e.normalized,r.byteStride,e.byteOffset),a.enableVertexAttribArray(u[n]),r.extras.array_buffer=t,r.extras.bufferAccessCount=1}}t.extras.vao=r}else n.mesh?this.load(n.mesh):n.children?n.children.forEach(this.load.bind(this)):n.nodes&&n.nodes.forEach(this.load.bind(this))},unload(n){if(n.primitives){console.log(n);for(let e=0;e<n.primitives.length;e++){let t=n.primitives[e];if(void 0!==t.extras.vao){if(t.indices){let n=t.indices.bufferView;n.extras.element_array_buffer&&(n.extras.bufferAccessCount>1?n.extras.bufferAccessCount-=1:(a.deleteBuffer(n.extras.element_array_buffer),delete n.extras.element_array_buffer,delete n.extras.bufferAccessCount))}for(let n in t.attributes){let e=t.attributes[n].bufferView;e.extras.array_buffer&&(e.extras.bufferAccessCount>1?e.extras.bufferAccessCount-=1:(a.deleteBuffer(e.extras.array_buffer),delete e.extras.array_buffer,delete e.extras.bufferAccessCount))}a.deleteVertexArray(t.extras.vao),delete t.extras.vao}}}else n.mesh?this.unload(n.mesh):n.children?n.children.forEach(this.unload.bind(this)):n.nodes&&n.nodes.forEach(this.unload.bind(this))}}},perspectiveCamera:We,orthographicCamera:Qe};class at{constructor(n){this.camera=n,this.FD=a.fromValues(0,0,1),this.UD=a.fromValues(0,1,0),this.LD=a.fromValues(1,0,0),this.pitchQuat=o.create(),this.yawQuat=o.create(),this.longitudinalDirection=a.create(),this.lateralDirection=a.create()}update(n,e,t,r){o.setAxisAngle(this.pitchQuat,this.LD,-n),o.setAxisAngle(this.yawQuat,this.UD,-e),o.multiply(this.camera.rotation,this.yawQuat,o.multiply(this.camera.rotation,this.camera.rotation,this.pitchQuat)),a.transformQuat(this.longitudinalDirection,this.FD,this.camera.rotation),a.normalize(this.longitudinalDirection,this.longitudinalDirection),a.scale(this.longitudinalDirection,this.longitudinalDirection,-t),this.camera.applyTranslation(...this.longitudinalDirection),a.transformQuat(this.lateralDirection,this.LD,this.camera.rotation),a.normalize(this.lateralDirection,this.lateralDirection),a.scale(this.lateralDirection,this.lateralDirection,-r),this.camera.applyTranslation(...this.lateralDirection)}}var ot=t(4),it=t.n(ot);rt.importer(it.a).then(n=>{console.log(n);const e=rt.renderer(window.innerWidth,window.innerHeight);document.body.appendChild(e.domElement);let t=n.scene;e.load(t);let r=rt.perspectiveCamera({aspectRatio:window.innerWidth/window.innerHeight,yfov:70,zfar:5e3,znear:.1});window.addEventListener("resize",()=>{r.perspective.aspectRatio=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)},!1);let a=rt.node({name:"Camera",camera:r});t.nodes.push(a);let o=new at(a),i=e.domElement;i.addEventListener("click",()=>{i.requestPointerLock()});let s=0,c=0;function u(n){s+=.001*n.movementX,c+=.001*n.movementY}document.addEventListener("pointerlockchange",()=>{document.pointerLockElement===i?i.addEventListener("mousemove",u,!1):i.removeEventListener("mousemove",u,!1)});let d={forward:!1,backward:!1,left:!1,right:!1,speed:.01};window.addEventListener("keydown",n=>{n.preventDefault(),"KeyW"===n.code?d.forward=!0:"KeyS"===n.code?d.backward=!0:"KeyA"===n.code?d.left=!0:"KeyD"===n.code&&(d.right=!0)}),window.addEventListener("keyup",n=>{n.preventDefault(),"KeyW"===n.code?d.forward=!1:"KeyS"===n.code?d.backward=!1:"KeyA"===n.code?d.left=!1:"KeyD"===n.code&&(d.right=!1)});let l=0;window.requestAnimationFrame(function r(i){const u=i-l;l=i;const f=d.speed*u;let h=0,p=0;d.forward&&(h+=f),d.backward&&(h-=f),d.left&&(p+=f),d.right&&(p-=f),o.update(c,s,h,p),s=0,c=0,t.nodes.forEach(n=>n.tick()),e.render(n.scene,a),window.requestAnimationFrame(r)})}).catch(n=>{console.log(n)})}]);
//# sourceMappingURL=main.js.map